# Atomic Kotlin 41 ~ 45

## Atom41 ì œë„¤ë¦­ìŠ¤ ì†Œê°œ

- ì œë„¤ë¦­ì˜ ì •ì˜
  - íƒ€ì…ì˜ í”Œë ˆì´ìŠ¤í™€ë”. ì•„ì§ ì •í•´ì§€ì§€ ì•Šì€ íƒ€ì…ì„ ëŒ€ì‹ í•´ì„œ ë³´ì—¬ì¤€ë‹¤ëŠ” ì˜ë¯¸ë¡œ ì´í•´
  - í´ë˜ìŠ¤ë‚˜ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ë•Œ **íƒ€ì… ì œì•½ì„ ëŠìŠ¨í•˜ê²Œ** í•´ì„œ í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œ í‘œí˜„ë ¥ì„ ìµœëŒ€ë¡œ ì œê³µí•˜ê³ ìí•˜ëŠ” ëª©ì ì—ì„œ ë‚˜ì˜¨ ê²ƒ

```kotlin
  data class Automobile(val brand: String)

  class RigidHolder(private val a: Automobile) {
    fun getValue() = a
  }

  fun main() {
    val holder = RigidHolder(Automobile("BMW"))
    holder.getValue() eq
      "Automobile(brand=BMW)"
  }
```

- RigidHolder ë¼ëŠ” í´ë˜ìŠ¤ì— í•­ìƒ ì¸ìë¡œ `Automobile` ë°–ì— ë°›ì„ ìˆ˜ ì—†ë‹¤. ë‹¤ë¥¸ ë‹¤ì–‘í•œ íƒ€ì…ì„ ë°›ê¸° ìœ„í•´ì„  ê°ê° ë”°ë¡œ ë§Œë“¤ì–´ì¤˜ì•¼í•œë‹¤. â†’ **ì¬ì‚¬ìš©ì„±ì´ ì¢‹ì§€ ì•Šë‹¤.**

- ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì œë„¤ë¦­ ì‚¬ìš©(ì•„ë˜ ì½”ë“œ)

```kotlin
  class GenericHolder<T>(               // [1]
    private val value: T
  ) {
    fun getValue(): T = value
  }

  fun main() {
    val h1 = GenericHolder(Automobile("Ford"))
    val a: Automobile = h1.getValue()   // [2]
    a eq "Automobile(brand=Ford)"

    val h2 = GenericHolder(1)
    val i: Int = h2.getValue()          // [3]
    i eq 1

    val h3 = GenericHolder("Chartreuse")
    val s: String = h3.getValue()       // [4]
    s eq "Chartreuse"
  }
```

- `class GenericHolder<T>` í´ë˜ìŠ¤ëª… ë’¤ì— `<T>` ë¥¼ í†µí•´ì„œ ì œë„¤ë¦­ì„ ì •ì˜í•˜ê³  í•´ë‹¹ íƒ€ì…ì´ ì–´ë””ì— ì–´ë–»ê²Œ ì‚¬ìš©ë ì§€ ì„¤ì •í•œë‹¤.
  - ìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” ì¸ìë¡œ ë°›ëŠ” íƒ€ì…ê³¼ getValueê°€ ë¦¬í„´í•˜ëŠ” íƒ€ì…ì´ ê°™ë‹¤.
- `<T>` ì—ëŠ” í•´ë‹¹ í´ë˜ìŠ¤ê°€ ì‹¤ì œë¡œ ì‚¬ìš©ë˜ê¸° ì „ê¹Œì§€ëŠ” ì–´ë–¤ íƒ€ì…ì´ ë“¤ì–´ì˜¬ì§€ ëª¨ë¥¸ë‹¤. [2]/[3]/[4]ì—ì„œ ì²˜ëŸ¼ ì‹¤ì œë¡œ í´ë˜ìŠ¤ì— íŠ¹ì • íƒ€ì…ì˜ ì¸ìê°€ ë“¤ì–´ì˜¤ê²Œ ë˜ë©´ í•´ë‹¹ íƒ€ì…ì´ ì„¤ì •ëœë‹¤.

<br />

- ìœ ë‹ˆë²„ì„¤ íƒ€ì…
  - ëª¨ë“  íƒ€ì…ì˜ ë¶€ëª¨ íƒ€ì…ì„ ì¼ì»«ëŠ” ìš©ì–´
  - ì½”í‹€ë¦°ì—ì„œëŠ” `Any` : ëª¨ë“  íƒ€ì…ì„ í—ˆìš©í•œë‹¤ëŠ” ì˜ë¯¸
  - ë§Œì•½ ì—¬ëŸ¬ íƒ€ì…ì˜ ê°’ì„ ë„˜ê²¨ì•¼í•˜ëŠ” ê²½ìš°, ê³µí†µì ì´ ì—†ë‹¤ë©´ Any íƒ€ì…ì„ ì œë„¤ë¦­ ëŒ€ì‹  ì„ ì–¸ì´ ê°€ëŠ¥í•´ë³´ì¸ë‹¤.
    - ex. `class GenericHolder<Any>`

<br />

```kotlin
  class AnyHolder(private val value: Any) {
    fun getValue(): Any = value
  }

  class Dog {
    fun bark() = "Ruff!"
  }

  fun main() {
    val holder = AnyHolder(Dog())
    val any = holder.getValue()
    // Doesn't compile:
    // any.bark()

    val genericHolder = GenericHolder(Dog())
    val dog = genericHolder.getValue()
    dog.bark() eq "Ruff!"
  }
```

- `AnyHolder`ì˜ ê²½ìš° ì¸ìë¡œ ë°›ì€ ê°’ì˜ íƒ€ì…ì´ Any íƒ€ì…ìœ¼ë¡œ, getValueì—ì„œ ë¦¬í„´í•˜ëŠ” íƒ€ì… ì—­ì‹œ Any íƒ€ì…ìœ¼ë¡œ ì •ì˜ë˜ì–´ ìˆëŠ” ê²ƒ.

  - ê·¸ë ‡ê¸° ë•Œë¬¸ì— `val any = holder.getValue()` ì˜ anyëŠ” Any íƒ€ì…ì´ê¸° ë•Œë¬¸ì— ~~Any íƒ€ì…ì—ëŠ” bark()ë¼ëŠ” ë©¤ë²„í•¨ìˆ˜ê°€ ì—†ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ í•  ìˆ˜ ì—†ê²Œ ëœë‹¤.~~

    â†’ **ì„¤ëª… ìˆ˜ì •** : Any íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ê°€ ì‹¤ì œë¡œ ì–´ë–¤ íƒ€ì…ì¸ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì•ˆì „í•˜ê²Œ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ì—¬ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.

  - ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒ!
    ![atom41_any](/screenshots/atom41_any.png)

- ìœ„ ì˜ˆì œë¥¼ í†µí•œ ì œë„¤ë¦­ê³¼ Anyíƒ€ì…ì„ ì •ë¦¬

  - ì œë„¤ë¦­ íƒ€ì… : ì‹¤í–‰ì‹œì ì— êµ¬ì²´ì ì¸ íƒ€ì…ìœ¼ë¡œ ëŒ€ì²´ë˜ë©° ê·¸ íƒ€ì…ì— ë§ê²Œ ë™ì‘
  - Any íƒ€ì… : ëª¨ë“  íƒ€ì…ì˜ ìŠˆí¼íƒ€ì…ìœ¼ë¡œ, ì–´ë–¤ ê°’ì´ë“  ì°¸ì¡°í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ ê°’ì˜ êµ¬ì²´ì ì¸ íƒ€ì…ì„ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í•´ë‹¹ íƒ€ì…ì˜ ë©¤ë²„/ë©¤ë²„í•¨ìˆ˜ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤. ë‹¨, **íƒ€ì… ìºìŠ¤íŒ…ì´ë‚˜ is ì—°ì‚°ìë¥¼ í†µí•˜ë©´ ì ‘ê·¼ì´ ê°€ëŠ¥**

    ```kotlin
    fun main() {
      val holder = AnyHolder(Dog())
      val any = holder.getValue()

      // 1) is ì—°ì‚°ì
      if (any is Dog)
          any.bark()

      // 2) íƒ€ì…ìºìŠ¤íŒ…
      (any as? Dog)?.bark()
    }
    ```

    > ì´ëŸ° ì‹ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ì ‘ê·¼ì´ ê°€ëŠ¥!

    > is ì—°ì‚°ì : `any is Dog` anyê°€ Dog íƒ€ì…ì¸ì§€ë¥¼ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë§ë‹¤ë©´ ê·¸ ì´í›„ ì½”ë“œë¥¼ ì‹¤í–‰

    > as / as? : ê°•ì œ íƒ€ì… ìºìŠ¤íŒ… / ì•ˆì „í•œ íƒ€ì… ìºìŠ¤íŒ…
    >
    > > as : ìºìŠ¤íŒ… ì¤‘ ìºìŠ¤íŒ…ì´ ë¶ˆê°€ëŠ¥í•˜ë©´ ì—ëŸ¬(`ClassCastException`) ë°œìƒ
    > > as? : ìºìŠ¤íŒ… ì¤‘ ìºìŠ¤íŒ…ì´ ë¶ˆê°€ëŠ¥í•˜ë©´ null ë°˜í™˜

```kotlin
  fun <T> identity(arg: T): T = arg

  fun main() {
    identity("Yellow") eq "Yellow"
    identity(1) eq 1
    val d: Dog = identity(Dog())
    d.bark() eq "Ruff!"
  }
```

- ì œë„¤ë¦­ í•¨ìˆ˜ì˜ ê²½ìš° ì œë„¤ë¦­ ëª…ì„¸(tsì—ì„œëŠ” íƒ€ì… ë³€ìˆ˜ë¼ê³  ë¶€ë¦„)ë¥¼ í•¨ìˆ˜ ì•ì— ì •ì˜í•œë‹¤.

```kotlin
  fun <T> List<T>.first(): T {
    if (isEmpty())
      throw NoSuchElementException("Empty List")
    return this[0]
  }

  fun <T> List<T>.firstOrNull(): T? =
    if (isEmpty()) null else this[0]

  fun main() {
    listOf(1, 2, 3).first() eq 1

    val i: Int? =                     // [1]
      listOf(1, 2, 3).firstOrNull()
    i eq 1

    val s: String? =                  // [2]
      listOf<String>().firstOrNull()
    s eq null
  }
```

- ì œë„¤ë¦­ í™•ì¥í•¨ìˆ˜ì˜ ê²½ìš°ì—ë„ í™•ì¥ í•¨ìˆ˜ì˜ ìˆ˜ì‹ ê°ì²´ ì•ì— ì œë„¤ë¦­ ëª…ì„¸ë¥¼ ë¶™ì¸ë‹¤.

- ì±…ì—ì„œ ì‹œí—˜ì‚¼ì•„ ì‹ë³„ì ? ë¥¼ ì œê±°í•´ë³´ë¼ê³  í•´ì„œ ì œê±°í•´ë´„! ğŸ˜ˆ ì˜ˆìƒí–ˆë“¯ì´ `firstOrNull()`ì˜ ë°˜í™˜ íƒ€ì…ê³¼ íƒ€ì…ì´ ë§ì§€ ì•Šê¸°ë•Œë¬¸ì— íƒ€ì…ì˜¤ë¥˜ê°€ ë…¸ì¶œëœë‹¤.
  ![atom41_generic_extension](/screenshots/atom41_generic_extension.png)

## Atom42 í™•ì¥ í”„ë¡œí¼í‹°

> í™•ì¥í•¨ìˆ˜ ì²˜ëŸ¼ í”„ë¡œí¼í‹°ë¥¼ í™•ì¥í•˜ëŠ” ê°œë…ì¸ë°... ì‚¬ì‹¤ ì •í™•í•˜ê²Œ ì„¤ëª…í•˜ëŠ”ë°”ê°€ ì™€ë‹¿ì§€ ì•ŠìŒ. ê·¸ë˜ì„œ

```kotlin
val String.indices: IntRange
  get() = 0 until length

fun main() {
  "abc".indices eq 0..2
}
```

```kotlin
val <T> List<T>.firstOrNull: T?
  get() = if (isEmpty()) null else this[0]

fun main() {
  listOf(1, 2, 3).firstOrNull eq 1
  listOf<String>().firstOrNull eq null
}
```

```kotlin
val List<*>.indices: IntRange
  get() = 0 until size

fun main() {
  listOf(1).indices eq 0..0
  listOf('a', 'b', 'c', 'd').indices eq 0..3
  emptyList<Int>().indices eq IntRange.EMPTY
}
```

```kotlin
fun main() {
  val list: List<*> = listOf(1, 2)
  val any: Any? = list[0]
  any eq 1
}
```

## Atom43 breakì™€ continue

> Atom43ì€ ì½”í‹€ë¦°ë§Œì˜ íŠ¹ì„±ì„ ì„¤ëª…í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³ , ì½”ë“œì˜ íë¦„ì„ ì½ì–´ê°€ëŠ” ê³¼ì •ì— ëŒ€í•œ ì´ì•¼ê¸°

- íë¦„

  - goto : ì½”ë“œ ì‚¬ì´ë¥¼ ì§ì ‘ ì í”„í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í‚¤ì›Œë“œ
    - ì´ˆê¸° í”„ë¡œê·¸ë˜ë° ë°©ì‹ì—ì„œ ë§ì´ ì‚¬ìš©ë˜ì—ˆê³  ì´ˆê¸° ê³ ìˆ˜ì¤€ì˜ ì–¸ì–´(í¬íŠ¸ë€, C, C++)ì—ì„œ ë§ì´ ì±„íƒí•¨
    - ë‹¨ì  : ì‚¬ìš© ê²½í—˜ì´ ë§ì•„ì§ì— ë”°ë¼ì„œ ì¡°ê±´ì—†ëŠ” ì í”„ëŠ” ì½”ë“œì˜ ìœ ì§€ë³´ìˆ˜ì™€ ê°€ë…ì„±ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤ëŠ” ì‚¬ì‹¤ì„ ë°œê²¬, ì´í›„ ê³ ìˆ˜ì¤€ ì–¸ì–´ì—ì„œëŠ” ì´ëŸ¬í•œ ë¬´ì¡°ê±´ì ì¸ ì½”ë“œ ì í”„ ë°©ì‹ì„ ì±„íƒí•˜ì§€ ì•ŠìŒ
  - break & continue
    - gotoì˜ ì—°ì¥ì„ ìƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆëŠ” breakì™€ continueëŠ” ì œí•œì ì¸ ì í”„ë¥¼ ì œê³µí•˜ëŠ” í‚¤ì›Œë“œ
    - ë‹¨ ë£¨í”„(for,do-while ë“±)ì—ì„œë§Œ ìœ„ì˜ í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

- ì •ì˜

  - continue : ë£¨í”„ì˜ ì‹œì‘ ìœ„ì¹˜ë¡œ ì í”„, ì¦‰ continue í‚¤ì›Œë“œ ë°‘ì˜ ì½”ë“œëŠ” ì‹¤í–‰í•˜ì§€ ì•Šê³  ë‹¤ì‹œ ì²˜ìŒìœ¼ë¡œ ëŒì•„ì˜´
  - break : ë£¨í”„ì˜ ëìœ¼ë¡œ ì´ë™, ì¦‰, break í‚¤ì›Œë“œëŠ” ë£¨í”„ë¥¼ ì¢…ë£Œí•˜ê²Œë¨.

    â†’ ì‹¤ì œ ì½”í‹€ë¦°ì—ì„œëŠ” ìœ„ì˜ ë‘ í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ì¼ì´ ë“œë¬¼ë‹¤ê³  í•œë‹¤. ì½”í‹€ë¦°ì—ì„œëŠ” ì´ë³´ë‹¤ëŠ” ë” ì¢‹ì€ ì˜µì…˜ì„ ì œê³µí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì•ìœ¼ë¡œ ë°°ìš°ê²Œ ëœë‹¤ê³  í•¨. ğŸ‘ğŸ»ğŸ‘ğŸ»

```kotlin
fun main() {
  val nums = mutableListOf(0)
  for (i in 4 until 100 step 4) {    // [1]
    if (i == 8) continue             // [2]
    if (i == 40) break               // [3]
    nums.add(i)
  }                                  // [4]
  nums eq "[0, 4, 12, 16, 20, 24, 28, 32, 36]"
}
```

- 4 ~ 100ê¹Œì§€ 4ì¹¸ì”© ì í”„í•˜ë©´ì„œ ë£¨í”„ë¥¼ ëˆë‹¤.
- 8ì€ ê±´ë„ˆë›°ê³ , 40ì—ì„œ ë£¨í”„ë¥¼ ì¢…ë£Œí•œë‹¤. ê·¸ë˜ì„œ `4 <= X < 40` ë²”ìœ„ì—ì„œ 8ì´ ì•„ë‹Œ 4ì˜ ë°°ìˆ˜ì˜ ë¦¬ìŠ¤íŠ¸ê°€ ë‹´ê¸´ë‹¤.
- ë‘ê°œì˜ ifì¡°ê±´ì€ ê²¹ì¹˜ì§€ ì•Šê¸°ë•Œë¬¸ì— ì„œë¡œ ë°”ë€Œì–´ë„ ê²°ê³¼ëŠ” ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤.

```kotlin
fun main() {
  val nums = mutableListOf(0)
  var i = 0
  while (i < 100) {
    i += 4
    if (i == 8) continue
    if (i == 40) break
    nums.add(i)
  }
  nums eq "[0, 4, 12, 16, 20, 24, 28, 32, 36]"
}
```

- ì²«ë²ˆì§¸ ì½”ë“œë¸”ë½ì—ì„œì˜ forë¬¸ì„ whileë¬¸ìœ¼ë¡œ ëŒ€ì²´í•œ ê²ƒì´ë‹¤.

```kotlin
fun main() {
  val nums = mutableListOf(0)
  var i = 0
  do {
    i += 4
    if (i == 8) continue
    if (i == 40) break
    nums.add(i)
  } while (i < 100)
  nums eq "[0, 4, 12, 16, 20, 24, 28, 32, 36]"
}
```

- ì´ ì½”ë“œ ì—­ì‹œ ì²«ë²ˆì§¸ ì½”ë“œ ë¸”ë½ì„ `do-while` ë¡œ ë³€ê²½í•œ ê²ƒ

  - ê°œì¸ì ìœ¼ë¡œ C ë°°ìš¸ ë•Œ do-whileì€ í•œë‘ë²ˆì •ë„ ì‚¬ìš©í•œ ì ì´ ìˆëŠ”ë“¯. ë³´í†µ while,forë¬¸ì´ ì´í•´í•˜ê¸°ê°€ í¸í–ˆìŒ

  - do-while
    - for, whileì€ ëª¨ë“  ë£¨í”„ë¥¼ ì‹œì‘í•  ë•Œ ì¡°ê±´ì„ ë¨¼ì € í™•ì¸í•˜ê³  ë£¨í”„ë¥¼ ì‹¤í–‰í•¨
    - do-whileì€ ë¨¼ì € ì‹¤í–‰í•˜ê³  ë£¨í”„ë¥¼ ì‹¤í–‰í• ì§€ì— ëŒ€í•œ ì¡°ê±´ì„ í™•ì¸í•¨. ê·¸ë˜ì„œ ë¬´ì¡°ê±´ ì²˜ìŒì„ ì‹¤í–‰í•´ì•¼í•˜ëŠ” ê²½ìš°ì—ëŠ” do-whileë¡œ êµ¬í˜„í•˜ëŠ”ê²Œ í¸í• ìˆ˜ë„ ìˆìŒ ğŸ¥²

```kotlin
fun main() {
  val strings = mutableListOf<String>()
  outer@ for (c in 'a'..'e') {
    for (i in 1..9) {
      if (i == 5) continue@outer
      if ("$c$i" == "c3") break@outer
      strings.add("$c$i")
    }
  }
  strings eq listOf("a1", "a2", "a3", "a4",
    "b1", "b2", "b3", "b4", "c1", "c2")
}
```

- ë ˆì´ë¸”

  - íŠ¹ì • ë¸”ëŸ­ì— `ë ˆì´ë¸”@` ì²˜ëŸ¼ ì¼ì¢…ì˜ ë¼ë²¨ë§ì„ í•  ìˆ˜ ìˆê³  ê·¸ ë¸”ëŸ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆìŒ
  - breakì™€ continueëŠ” ìì‹ ì´ ì†í•œ ë£¨í”„ ë°–ìœ¼ë¡œëŠ” ì í”„í•  ìˆ˜ ì—†ì§€ë§Œ, ë ˆì´ë¸”ì€ ë£¨í”„ ë°–ìœ¼ë¡œ ì´ë™ì´ ê°€ëŠ¥

- `outer@` ë¡œ ì²«ë²ˆì§¸ forë¬¸ ë¸”ëŸ­ìœ¼ë¡œ ë¼ë²¨ë§ì„ í•˜ì˜€ìŒ.
  - `if (i == 5) continue@outer` : iê°€ 5ì¼ë•Œë§ˆë‹¤ ì´ì¤‘forë¬¸ì„ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ì„œ ì‹œì‘í•˜ê²Œ ë¨
  - `if ("$c$i" == "c3") break@outer` : `outer@` ë ˆì´ë¸” ëìœ¼ë¡œ ê°€ì„œ ëìœ¼ë¡œ ì´ë™í•˜ê²Œ ë¨. ì¦‰ ì´ì¤‘forë¬¸ì´ ì¢…ë£Œë¨
    â†’ Q. `if ("$c$i" == "c3") break;` ì½”ë“œê°€ ì´ë ‡ê²Œ ë°”ë€Œë©´ ì–´ë–»ê²Œ ë ê¹Œ??
    - breakë¡œ ì¸í•´ ì•ˆìª½ forë¬¸ë§Œ ì¢…ë£Œë˜ê³  ë°”ê¹¥ìª½ forë¬¸ìœ¼ë¡œ ì´ë™í•˜ì—¬ forë¬¸ì´ ì§„í–‰ëœë‹¤. a ~ eê¹Œì§€ ëª¨ë‘ ëŒê²Œ ë¨.
    - ê²°ê³¼ `[a1, a2, a3, a4, b1, b2, b3, b4, c1, c2, d1, d2, d3, d4, e1, e2, e3, e4]`

```kotlin
fun main() {
  val strings = mutableListOf<String>()
  var c = 'a' - 1
  outer@ while (c < 'f') {
    c += 1
    var i = 0
    do {
      i++
      if (i == 5) continue@outer
      if ("$c$i" == "c3") break@outer
      strings.add("$c$i")
    } while (i < 10)
  }
  strings eq listOf("a1", "a2", "a3", "a4",
    "b1", "b2", "b3", "b4", "c1", "c2")
}
```

- ìœ„ ì½”ë“œë¥¼ do-whileë¡œ ë³€ê²½í•œ ì½”ë“œ

- `continue@outer`, `break@outer` ìœ„ì˜ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•¨

- [ì°¸ê³ ] ì½”í‹€ë¦°ì€ Charíƒ€ì…ì´ ì¡´ì¬í•˜ì—¬ ë‚´ë¶€ì ìœ¼ë¡œ ìœ ë‹ˆì½”ë“œ ê°’ì„ ê°€ì§€ê³  ìˆì–´ì„œ Char íƒ€ì…ì˜ ì‚°ìˆ  ì—°ì‚°ì´ ê°€ëŠ¥í•˜ë‹¤.

  - `var c = 'a' - 1`, `c += 1` ì´ë ‡ê²Œ ì—°ì‚°ì„ í†µí•´ì„œ ì•ŒíŒŒë²³ì„ ë³€ê²½í•  ìˆ˜ ìˆìŒ

```kotlin
fun main() {
  val strings = mutableListOf<String>()
  for (c in 'a'..'c') {
    for (i in 1..4) {
      val value = "$c$i"
      if (value < "c3") {     // [1]
        strings.add(value)
      }
    }
  }
  strings eq listOf("a1", "a2", "a3", "a4",
    "b1", "b2", "b3", "b4", "c1", "c2")
}
```

- ìœ„ ì½”ë“œëŠ” ë ˆì´ë¸”ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¡œ ë¦¬íŒ©í† ë§í•œ ê²ƒ.

  - ê°ê° ì´ì¤‘forë¬¸ì—ì„œ ìˆœíšŒí•´ì•¼í•  ë²”ìœ„ë¥¼ ë³€ê²½
  - ifë¬¸ì„ í†µí•´ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•´ì•¼í•  ìš”ì†Œ ì¡°ê±´ ë¶„ê¸°

- [ì§€ê·¹íˆ ê°œì¸ì ì¸ ì˜ê²¬] ì•½ê°„ ì–µì§€ìŠ¤ëŸ¬ìš´ ë¦¬íŒ©í† ë§

  - ì˜ˆì‹œë¥¼ ìœ„í•œ ì˜ˆì‹œ ëŠë‚Œ
  - ìˆœíšŒ ë²”ìœ„ë¥¼ ë³€ê²½ â†’ ìˆœíšŒí•´ì•¼í•  ë²”ìœ„ë§Œ ìˆœíšŒí•˜ëŠ”ê±´ ë„ˆë¬´ë„ ë‹¹ì—°í•œê²ƒ ì•„ë‹ê¹Œ??
  - ë³´í†µ breakì™€ continue ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ì–´ì©”ìˆ˜ ì—†ì´ ëª¨ë“  ìˆœíšŒë¥¼ ëŒì•„ì•¼í•˜ëŠ”ë° íŠ¹ì • ê²½ìš°ì—ì„œë§Œ ë‹¤ë¥¸ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ì‹¶ì€ ê²½ìš°ì— ì‚¬ìš©í•˜ëŠ”ë°, ê³¼ì—° ìœ„ ì˜ˆì‹œê°€ ê³¼ì—° ì´ëŸ° ì˜ë„ì™€ ì˜ë¬¸.

- [ì°¸ê³ ] ì½”í‹€ë¦°ì˜ ë¬¸ìì—´ ë¹„êµ

  - íŒŒì´ì¬ê³¼ íƒ€ìŠ¤ì—ì„œëŠ” ì •ìƒë™ì‘í•˜ëŠ”ë°, ê°•íƒ€ì… ì–¸ì–´ì¸ ì½”í‹€ë¦°ì—ì„œë„ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ ì˜ë¬¸
  - `value < "c3"`ì˜ ë¹„êµ ë°©ì‹

    - ë‘ ë¬¸ìì—´ì„ **ì‚¬ì „ì‹(lexicographical)** ìœ¼ë¡œ ë¹„êµí•œë‹¤. ë¬¸ìì—´ ë¹„êµëŠ” **ê° ë¬¸ìì˜ ìœ ë‹ˆì½”ë“œ ê°’ì„ ê¸°ì¤€**ìœ¼ë¡œ ìˆ˜í–‰ë˜ë©°, ë¬¸ìì—´ì˜ ê¸¸ì´ëŠ” ìš°ì„  ê³ ë ¤ë˜ì§€ ì•ŠëŠ”ë‹¤.

    - ì˜ˆì‹œ
      - `"apple" < "banana"`: true
      - `"apple" > "applet"` : false
      - `"apple" < "app"` : false
      - `"app" < "apple"` : true

    <br />

## Atom44 ëŒë‹¤

> ì‰¬ìš´ ì•Œê³ ë¦¬ì¦˜ ê¸°ì´ˆ ë¬¸ì œë¥¼ í’€ë©´ í’€ì´ê°€ ê°„í¸í•˜ë‹ˆê¹Œ ëª¨ë‘ ëŒë‹¤ë¡œ ì½”ë“œë¥¼ êµ¬í˜„í•´ì„œ ì •í™•íˆ ë¬´ì—‡ì„ êµ¬í˜„í•˜ë ¤ê³  í–ˆëŠ”ì§€ ì´í•´ë¥¼ ëª»í•˜ëŠ” ê²½ìš°ê°€ ìˆì—ˆìŒ. ì´ ì•„í†° ì—­ì‹œ ìš°ì„ ì€ ëŒë‹¤ í‘œí˜„ì‹ì„ ë§Œë“œëŠ” ë°©ë²•(ex. ì–´ë–»ê²Œ ì¶•ì•½ë˜ëŠ”ì§€)ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ê³  ìˆìŒ.

```kotlin
fun main() {
  val list = listOf(1, 2, 3, 4)
  val result = list.map({ n: Int -> "[$n]" })
  result eq listOf("[1]", "[2]", "[3]", "[4]")
}
```

- ê¸°ë³¸ ëŒë‹¤(í‘œí˜„ì‹)
  - `{ }` ì‚¬ìš©í•˜ì—¬ í‘œí˜„í•˜ê³  `->` ë¥¼ í†µí•´ì„œ íŒŒë¼ë¯¸í„°ì™€ í•¨ìˆ˜ì˜ ë³¸ë¬¸ì„ êµ¬ë¶„
  - ëŒë‹¤ : `{ n: Int -> "[$n]" }`

```kotlin
fun main() {
  val list = listOf(1, 2, 3, 4)
  val result = list.map({ n -> "[$n]" })
  result eq listOf("[1]", "[2]", "[3]", "[4]")
}
```

- ì½”í‹€ë¦°ì—ì„œëŠ” ëŒë‹¤ê°€ í•„ìš”í•œ ìœ„ì¹˜ì— ëŒë‹¤ë¥¼ ì ëŠ”ë‹¤. ì¦‰ ëŒë‹¤ì˜ íƒ€ì…ì´ ìë™ì¶”ë¡ ë  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸
- ìœ„ ì½”ë“œì—ì„œ ë¦¬ìŠ¤íŠ¸ëŠ” `List<Int>`ì´ê¸° ë•Œë¬¸ì— **Int íƒ€ì…ì„ ìƒëµê°€ëŠ¥í•¨**

```kotlin
fun main() {
  val list = listOf(1, 2, 3, 4)
  val result = list.map({ "[$it]" })
  result eq listOf("[1]", "[2]", "[3]", "[4]")
}
```

- ëŒë‹¤ì˜ íŒŒë¼ë¯¸í„°ê°€ í•˜ë‚˜ì¸ ê²½ìš°ì—” ì½”í‹€ë¦°ì€ ìë™ìœ¼ë¡œ íŒŒë¼ë¯¸í„° ì´ë¦„ì„ `it`ë¡œ ë³€í™˜í•´ì¤Œ.
- `{ it -> "[$it]" }` â†’ `{ "[$it]" }`

```kotlin
fun main() {
  val list = listOf('a', 'b', 'c', 'd')
  val result =
    list.map({ "[${it.uppercase()}]" })
  result eq listOf("[A]", "[B]", "[C]", "[D]")
}
```

- ì½”í‹€ë¦°ì€ ëŒë‹¤ì˜ itê°€ (`List<Char>`ì— ì˜í•´ì„œ) `Char`ë¼ëŠ” ì‚¬ì‹¤ì´ ìë™ì¶”ë¡  ë˜ì–´ `uppercase()`ë¥¼ ì»´íŒŒì¼ê³¼ì •ì—ì„œ Charí´ë˜ìŠ¤ ê´€ë ¨ ë©¤ë²„í•¨ìˆ˜ ì¶”ë¡ 

```kotlin

fun main() {
  val list = listOf('a', 'b', 'c', 'd')
  val result =
    list.map { "[${it.uppercase()}]" }
  result eq listOf("[A]", "[B]", "[C]", "[D]")
}
```

- í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ê°€ ëŒë‹¤ í•˜ë‚˜ë¼ë©´ `( )` ìƒëµ ê°€ëŠ¥
- `({ "[${it.uppercase()}]" })` â†’ `{ "[${it.uppercase()}]" }`

```kotlin
fun main() {
  val list = listOf(9, 11, 23, 32)
  list.joinToString(" ") { "[$it]" } eq
    "[9] [11] [23] [32]"
}
```

- í•¨ìˆ˜ê°€ ì—¬ëŸ¬ ì¸ìë¥¼ ë°›ê³  ëŒë‹¤ê°€ ë§ˆì§€ë§‰ ì¸ìë¼ë©´ ì¸ì ëª©ë¡ì„ ê°ì‹¼ ê´„í˜¸ ë’¤ì— ëŒë‹¤ë¥¼ ìœ„ì¹˜ì‹œí‚¬ìˆ˜ ìˆìŒ
- ì˜ˆì‹œ : `joinToString`

  ```kotlin
  fun <T> Array<out T>.joinToString(
        separator: CharSequence = ", ",  // ìš”ì†Œ ì—°ê²°ì‹œ êµ¬ë¶„ìë¡œ ë“¤ì–´ê°ˆ ë¬¸ì
        prefix: CharSequence = "",       // ìµœì¢… ê²°ê³¼ ë¬¸ìì—´ì—ì„œ ì‹œì‘ì— í‘œì‹œí•  ë¬¸ì
        postfix: CharSequence = "",      // ìµœì¢… ê²°ê³¼ ë¬¸ìì—´ì—ì„œ ëì— í‘œì‹œí•  ë¬¸ì
        limit: Int = -1,                 // ì¶œë ¥í•  ìš”ì†Œì˜ ê°œìˆ˜ ì œí•œ (ê¸°ë³¸ê°’ : ê°œìˆ˜ ì œí•œ ì—†ìŒ)
        truncated: CharSequence = "...", // limit ë§Œí¼ ì¶œë ¥ í›„ì— ì»¬ë ‰ì…˜ì˜ ëª¨ë“  ìš”ì†Œë¥¼ ì¶œë ¥í•˜ì§€ ëª»í• ë•Œ í‘œí˜„í•˜ëŠ” ë¬¸ì (ê¸°ë³¸ê°’ : ...)
        transform: ((T) -> CharSequence)? = null // ê° ìš”ì†Œë¥¼ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜, ê° ìš”ì†Œë¥¼ í•´ë‹¹ í•¨ìˆ˜ì˜ ë¡œì§ëŒ€ë¡œ ë³€í™˜ í›„ ìš”ì†Œë¥¼ ì—°ê²°ì‹œí‚¨ë‹¤
  ): String {
     return joinTo(StringBuilder(), separator, prefix, postfix, limit, truncated, transform).toString()
  }
  ```

  > `transform` ì„ ëŒë‹¤ë¡œ í‘œí˜„

  ```kotlin
    // AsIs
    list.joinToString(
      separator = " ",
      transform = { it -> "[$it]" }
    )

    // ToBe
    list.joinToString(" ") { "[$it]" }
  ```

```kotlin
fun main() {
  val list = listOf(9, 11, 23, 32)
  list.joinToString(
    separator = " ",
    transform = { "[$it]" }
  ) eq "[9] [11] [23] [32]"
}
```

- ëŒë‹¤ë¥¼ ì´ë¦„ë¶™ì€ ì¸ìë¡œ í•˜ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” ì¸ì ëª©ë¡ ê´„í˜¸ ì•ˆì— ëŒë‹¤ë¥¼ ìœ„ì¹˜

```kotlin
fun main() {
  val list = listOf('a', 'b', 'c')
  list.mapIndexed { index, element ->
    "[$index: $element]"
  } eq listOf("[0: a]", "[1: b]", "[2: c]")
}
```

- íŒŒë¼ë¯¸í„°ê°€ ë‘˜ ì´ìƒì¸ ê²½ìš°ì˜ ëŒë‹¤

```kotlin
fun main() {
  val list = listOf('a', 'b', 'c')
  list.mapIndexed { index, _ ->
    "[$index]"
  } eq listOf("[0]", "[1]", "[2]")
}
```

- ëŒë‹¤ì—ì„œ íŠ¹ì • ì¸ìë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš° `_` ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´íŒŒì¼ëŸ¬ ê²½ê³ ë¥¼ ë¬´ì‹œí•  ìˆ˜ ìˆìŒ

```kotlin
fun main() {
  val list = listOf('a', 'b', 'c')
  list.indices.map {
    "[$it]"
  } eq listOf("[0]", "[1]", "[2]")
}

```

- ìœ„ ì½”ë“œì™€ ë™ì¼í•œ ì½”ë“œ
- `list.indices` : ë¦¬ìŠ¤íŠ¸ì˜ ìœ íš¨í•œ ì¸ë±ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë²”ìœ„ë¥¼ ì œê³µí•¨. ì¦‰ 0ë¶€í„° list.size - 1 ê¹Œì§€ì˜ ë²”ìœ„ë¥¼ ë°˜í™˜
  - 0 until list.size
  - 0..list.size-1

```kotlin
fun main() {
  run { -> trace("A Lambda") }
  run { trace("Without args") }
  trace eq """
    A Lambda
    Without args
  """
}
```

- íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” ê²½ìš°
  - `->` ë§Œ ì‚¬ìš© : íŒŒë¼ë¯¸í„°ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ê°•ì¡°í•˜ê¸° ìœ„í•œ ë°©ë²•
  - ì™„ì „ ìƒëµí•˜ëŠ” ê²½ìš° : ì½”í‹€ë¦° ìŠ¤íƒ€ì¼ ê°€ì´ë“œì—ì„œ ì¶”ì²œí•˜ëŠ” ë°©ë²•

<br />

- ëŒë‹¤ ì‚¬ìš© ì£¼ì˜ì 
  - ì¼ë°˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í• ìˆ˜ ìˆëŠ” ê³³ì— ëŒë‹¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
  - ëŒë‹¤ê°€ ë„ˆë¬´ ë³µì¡í•˜ë©´ ì¼ë°˜í•¨ìˆ˜ë¡œ ì •ì˜í•˜ëŠ” ê²ƒì„ ì¶”ì²œ

## Atom45 ëŒë‹¤ì˜ ì¤‘ìš”ì„±

> ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

```kotlin
fun filterEven(nums: List<Int>): List<Int> {
  val result = mutableListOf<Int>()
  for (i in nums) {
    if (i % 2 == 0) {    // [1]
      result += i
    }
  }
  return result
}

fun main() {
  filterEven(listOf(1, 2, 3, 4)) eq
    listOf(2, 4)
}
```

- ì§ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ì½”ë“œ

```kotlin
fun greaterThan2(nums: List<Int>): List<Int> {
  val result = mutableListOf<Int>()
  for (i in nums) {
    if (i > 2) {         // [1]
      result += i
    }
  }
  return result
}

fun main() {
  greaterThan2(listOf(1, 2, 3, 4)) eq
    listOf(3, 4)
}
```

- 2ë³´ë‹¤ í° ê°’ì„ êµ¬í•˜ëŠ” ì½”ë“œ

<br />

- ìœ„ 2ê°œì˜ ì½”ë“œë¥¼ ë¹„êµí•´ë³´ë©´ [1]ë¡œ í‘œì‹œëœ ë¶€ë¶„ì™¸ì—ëŠ” ëª¨ë‘ ê°™ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŒ

```kotlin
fun main() {
  val list = listOf(1, 2, 3, 4)
  val even = list.filter { it % 2 == 0 }
  val greaterThan2 = list.filter { it > 2 }
  even eq listOf(2, 4)
  greaterThan2 eq listOf(3, 4)
}
```

- ìœ„ ë‘ ì½”ë“œë¥¼ ì¶”ìƒí™”í•œ ê²ƒì¸ ë°”ë¡œ filterì´ê³  ë‹¬ë¼ì§€ëŠ” ë¶€ë¶„ë§Œì„ ëŒë‹¤ë¡œ ë„£ì–´ì¤Œìœ¼ë¡œì„œ ê°œë°œìëŠ” ì‹¤ì œì ì¸ ë¡œì§ì—ë§Œ ì§‘ì¤‘í•´ì„œ êµ¬í˜„í•  ìˆ˜ ìˆê²Œ ë¨
  - ì´í„°ë ˆì´í„°í•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•œ êµ¬í˜„ : filter
  - ì‹¤ì œì ì¸ ë¡œì§ì— ëŒ€í•œ êµ¬í˜„ : ëŒë‹¤
- ì´ëŸ¬í•œ ë°©ì‹ì´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì´ ì œê³µí•˜ëŠ” íŠ¹ì§• : í° ë¬¸ì œë¥¼ ì‘ì€ ë‹¨ê³„ë¡œ ìª¼ê°œì„œ í’€ì–´ë‚˜ê°€ëŠ” ë°©ì‹  
   â†’ í•¨ìˆ˜ì˜ **ì¬ì‚¬ìš©ê³¼ ì¡°í•©**

```koltin
fun main() {
  val list = listOf(1, 2, 3, 4)
  val isEven = { e: Int -> e % 2 == 0 }
  list.filter(isEven) eq listOf(2, 4)
  list.any(isEven) eq true
}
```

- ëŒë‹¤ë¥¼ varë‚˜ valì— ë‹´ì•„ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ëŒë‹¤ë¡œ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥

---

í´ë¡œì €

- í•¨ìˆ˜ê°€ ì„ ì–¸ë  ë•Œ ì„ ì–¸ ë‹¹ì‹œì˜ ì™¸ë¶€ì˜ í™˜ê²½ì„ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒ(ê·¸ëŸ¬í•œ í™˜ê²½)
- ì½”í‹€ë¦°ì—ì„œëŠ” **ë‹¹ì‹œì˜ ì™¸ë¶€ì˜ í™˜ê²½ì„ í¬íš(capture)í•œë‹¤** ë¼ê³  í‘œí˜„
- ìë°”ìŠ¤í¬ë¦½íŠ¸, íŒŒì´ì¬ ëª¨ë‘ ê°™ì€ ê°œë…ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆê³ , í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•œ ì–¸ì–´ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì´ëŸ¬í•œ ê°œë…ì´ ë“¤ì–´ìˆìŒ. ì°¸ê³ ë¡œ ìë°”ì—ì„œì˜ í´ë¡œì €ì™€ ì½”í‹€ë¦°ì—ì„œì˜ í´ë¡œì €ëŠ” ì‚´ì§ ë‹¤ë¥´ë‹¤ê³ í•¨([ë§í¬](https://jaeyeong951.medium.com/java-%ED%81%B4%EB%A1%9C%EC%A0%80-vs-kotlin-%ED%81%B4%EB%A1%9C%EC%A0%80-c6c12da97f94))

- ì½”í‹€ë¦°ì—ì„œ í•¨ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤ê³  ë¬´ì¡°ê±´ í´ë¡œì €ê°€ ìƒì„±ë˜ì§€ì•ŠìŒ.
  - **ëŒë‹¤** í˜¹ì€ **ìµëª…í•¨ìˆ˜**ì¸ ê²½ìš°ì—ë§Œ í´ë¡œì €ê°€ ìƒì„±ë¨(ì§€ê¸ˆê¹Œì§€ ì°¾ì•„ë³¸ë°”ë¡œëŠ” ì´ë ‡ê²Œ ì•Œê³  ìˆìŒ, ì¢€ ë” ì°¾ì•„ë³´ê¸´í•´ì•¼í• ë“¯ ğŸ¤”)

```kotlin
fun main() {
  val list = listOf(1, 5, 7, 10)
  val divider = 5
  list.filter { it % divider == 0 } eq
    listOf(5, 10)
}
```

- ëŒë‹¤ì—ì„œ ì™¸ë¶€ ë³€ìˆ˜ì¸ `divider`ì— ì ‘ê·¼í•˜ì—¬ ì‚¬ìš©

```kotlin
fun main() {
  val list = listOf(1, 5, 7, 10)
  var sum = 0
  val divider = 5
  list.filter { it % divider == 0 }
    .forEach { sum += it }
  sum eq 15
}
```

- ëŒë‹¤ì—ì„œ ì™¸ë¶€ ë³€ìˆ˜ì¸ `divider`ì— ì ‘ê·¼í•˜ì—¬ ì‚¬ìš©í•˜ê³  `sum`ì„ ìˆ˜ì •

```kotlin
fun main() {
  val list = listOf(1, 5, 7, 10)
  val divider = 5
  list.filter { it % divider == 0 }
    .sum() eq 15
}
```

- ì¼ë°˜ì ìœ¼ë¡œëŠ” í™˜ê²½ ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ” ë°©ì‹(sum(): ìƒˆë¡œìš´ ê°’ì„ ë¦¬í„´)ìœ¼ë¡œ ì‚¬ìš©

```koltin
var x = 100

fun useX() {
  x++
}

fun main() {
  useX()
  x eq 101
}
```

- **useX()ëŠ” ì£¼ë³€ í™˜ê²½ì„ í¬íš**í•´ì„œ ë³€ê²½
