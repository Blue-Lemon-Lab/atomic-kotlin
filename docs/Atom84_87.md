# Atom 84 ~ 87

## Atom84 í”„ë¡œí¼í‹° ìœ„ì„

### ì •ì˜ì™€ ì‚¬ìš©ë²•
- ì •ì˜
  - by í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì„œ í”„ë¡œí¼í‹° ê°’ì„ ë‹¤ë¥¸ ê°ì²´(ìœ„ì„ ê°ì²´)ì— ìœ„ì„í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
  - í”„ë¡œí¼í‹° ìœ„ì„ì„ ì‚¬ìš©í•˜ë©´ ìœ„ì„ ê°ì²´ì—ëŠ” ë°˜ë“œì‹œ `getValue`, `setValue` í•¨ìˆ˜ê°€ êµ¬í˜„ë˜ì–´ ìˆì–´ì•¼í•œë‹¤.(ì—°ì‚°ì ì˜¤ë²„ë¡œë”© í•¨ìˆ˜ë¡œì„œ ì •ì˜ë˜ì–´ì•¼í•¨)
    - ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ì— ì˜í•´ì„œ ê°•ì œëœë‹¤.
- ì‚¬ìš©ë²•
  ```kotlin
    val(var) [í”„ë¡œí¼í‹° ì´ë¦„] by [ìœ„ì„ ê°ì²´]
  ```

### ì½ê¸°ì „ìš© ì§ì ‘ êµ¬í˜„
```kotlin
class Readable(val i: Int) {
  val value: String by BasicRead() // [1]
}

class BasicRead {
  operator fun getValue(
    r: Readable,
    property: KProperty<*> // [3]
  ) = "getValue: ${r.i}"
}

fun main() {
  val x = Readable(11)
  val y = Readable(17)
  x.value eq "getValue: 11" // [2]
  y.value eq "getValue: 17"
}
```
- [1] : valueëŠ” í”„ë¡œí¼í‹° ìœ„ì„ìœ¼ë¡œ ì •ì˜ëœë‹¤.
- [2] : ê°ì²´ê°€ ìƒì„±ë˜ê³  í•´ë‹¹ ê°ì²´ì˜ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•˜ë ¤ê³ í•˜ë©´, ìœ„ì„ ê°ì²´ì— ì •ì˜ëœ getter(getValue)ì— ë§ê²Œ í•´ë‹¹ í”„ë¡œí¼í‹°ë¥¼ ì½ì–´ì˜¤ê²Œ ëœë‹¤. 
- [3] : `property: KProperty<*>` 
  - KProperty : ì½”í‹€ë¦° ë¦¬í”Œë ‰ì…˜(Reflection)ì—ì„œ í”„ë¡œí¼í‹°ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…
    - ì½”í‹€ë¦° ë¦¬í”Œë ‰ì…˜(Reflection) : ì‹¤í–‰ì‹œì ì— ì½”í‹€ë¦° ì–¸ì–´ì˜ ë‹¤ì–‘í•œ ìš”ì†Œì— ëŒ€í•œ ì •ë³´(ex.í”„ë¡œí¼í‹° ì´ë¦„, íƒ€ì… ë“±)ë¥¼ ì–»ì„ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥
  - <*> : `Star Projection`ì´ë¼ê³  ëª¨ë“  íƒ€ì…ì„ í—ˆìš©í•œë‹¤ëŠ” ì˜ë¯¸
  - [ì •ë¦¬] ìœ„ì„ëœ í”„ë¡œí¼í‹°ì˜ ë©”íƒ€ë°ì´í„° íƒ€ì…ìœ¼ë¡œì„œ, ë¦¬í”Œë ‰ì…˜ APIë¥¼ í†µí•´ ì œê³µë°›ëŠ” ì´ë¦„ê³¼ ê°™ì€ ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤. ë˜í•œ <*> ë¥¼ í†µí•´ì„œ íŠ¹ì • íƒ€ì…ì— ì–½ë§¤ì´ì§€ ì•Šê³  ëª¨ë“  í”„ë¡œí¼í‹°ì— ëŒ€í•´ ì‘ë™í•  ìˆ˜ ìˆë‹¤.
  - [ì–¸ì œ KPropertyë¥¼ ì‚¬ìš©í•´ì•¼í•˜ë‚˜?]
    - ìœ„ì„ëœ í”„ë¡œí¼í‹°ì—ì„œ í”„ë¡œí¼í‹°ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ.
    - ex. í”„ë¡œí¼í‹°ì˜ ë©”íƒ€ë°ì´í„°(ì´ë¦„, íƒ€ì… ë“±)ë¥¼ í•„ìš”ë¡œ í•  ë•Œ, ë¡œê¹…, ë””ë²„ê¹…ì„ ìœ„í•´ í”„ë¡œí¼í‹° ì •ë³´ë¥¼ ì¶œë ¥í•˜ê³  ì‹¶ì„ ë•Œ

### ì½ê¸°ì“°ê¸°ì „ìš© ì§ì ‘ êµ¬í˜„
```kotlin
class ReadWriteable(var i: Int) {
  var msg = ""
  var value: String by BasicReadWrite() // [1]
}

class BasicReadWrite { // [2]
  operator fun getValue(
    rw: ReadWriteable,
    property: KProperty<*>
  ) = "getValue: ${rw.i}"
  operator fun setValue(
    rw: ReadWriteable,
    property: KProperty<*>,
    s: String // [3]
  ) {
    rw.i = s.toIntOrNull() ?: 0
    rw.msg = "setValue to ${rw.i}"
  }
}

fun main() {
  val x = ReadWriteable(11)
  x.value eq "getValue: 11"
  x.value = "99"
  x.msg eq "setValue to 99"
  x.value eq "getValue: 99"
}
```
- [1] : valueëŠ” í”„ë¡œí¼í‹° ìœ„ì„ìœ¼ë¡œ ì •ì˜ëœë‹¤.
- [2] : BasicReadWrite í´ë˜ìŠ¤ì—ëŠ” getter(getValue)ì™€ setter(setValue)ê°€ ëª¨ë‘ ì •ì˜ë˜ì–´ìˆë‹¤.
- [3] : setValueì˜ 3ë²ˆì§¸ ì¸ìë¡œ ë“¤ì–´ì˜¤ëŠ” ê°’ì´ í• ë‹¹ë˜ì–´ì•¼ í•  ê°’ì´ ëœë‹¤. ìœ„ì„ëœ í”„ë¡œí¼í‹° íƒ€ì…ê³¼ ì¼ì¹˜í•´ì•¼í•œë‹¤.

### ë¹ŒíŠ¸ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì† ë°›ëŠ” ë°©ë²•

```kotlin
class Readable2(val i: Int) {
  val value: String by BasicRead2() // [1]
  val value2: String by
  ReadOnlyProperty { _, _ -> "getValue: $i" } // [2] SAM ë³€í™˜, 
}

class BasicRead2 :
  ReadOnlyProperty<Readable2, String> { 
  override operator fun getValue(
    thisRef: Readable2,
    property: KProperty<*>
  ) = "getValue: ${thisRef.i}"
}

fun main() {
  val x = Readable2(11)
  val y = Readable2(17)
  x.value eq "getValue: 11"
  x.value2 eq "getValue: 11"
  y.value eq "getValue: 17"
  y.value2 eq "getValue: 17"
}
```
- [1]/[2] 
  - `interface ReadOnlyProperty` ëŠ” ì½”í‹€ë¦° ë‚´ë¶€ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¸í„°í˜ì´ìŠ¤
  - [1] : `ReadOnlyProperty` ë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤ë¥¼ í†µí•´ì„œ êµ¬í˜„
  - [2] : `ReadOnlyProperty` ë¥¼ SAM(ë‹¨ì¼ì¶”ìƒë©”ì„œë“œ) ë³€í™˜ì„ í†µí•´ì„œ ì§ì ‘ êµ¬í˜„ : { } ì•ˆì˜ ë¡œì§ì´ getValue ì´ë‹¤.
    - ì¥ì  :  ì¢€ ë” ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤
- ê²°ê³¼ì ìœ¼ë¡œ êµ¬í˜„ ë°©ì‹ë§Œ ë‹¤ë¥¼ë¿, ë‘˜ì€ ë™ì¼í•œ ê°’ì„ ì¶œë ¥í•œë‹¤. 

```kotlin
class ReadWriteable2(var i: Int) {
  var msg = ""
  var value: String by BasicReadWrite2()
}

class BasicReadWrite2 :
  ReadWriteProperty<ReadWriteable2, String> {
  override operator fun getValue(
    rw: ReadWriteable2,
    property: KProperty<*>
  ) = "getValue: ${rw.i}"
  override operator fun setValue(
    rw: ReadWriteable2,
    property: KProperty<*>,
    s: String
  ) {
    rw.i = s.toIntOrNull() ?: 0
    rw.msg = "setValue to ${rw.i}"
  }
}

fun main() {
  val x = ReadWriteable2(11)
  x.value eq "getValue: 11"
  x.value = "99"
  x.msg eq "setValue to 99"
  x.value eq "getValue: 99"
}
```
- ë¹ŒíŠ¸ì¸ ì¸í„°í˜ì´ìŠ¤ì¸ `ReadWriteProperty`ë¥¼ ì‚¬ìš©í•œ ì½”ë“œì´ë‹¤. í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ëŠ” `getValue`ì™€ `setValue`ì˜ ì •ì˜ë¥¼ ë³´ì¥í•´ì¤€ë‹¤.

### ì •ë¦¬

- í”„ë¡œí¼í‹° ìœ„ì„ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•
  - ìœ„ì„ í´ë˜ìŠ¤ ì§ì ‘ êµ¬í˜„ : ì•„ë˜ 2ê°€ì§€ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ì•¼í•œë‹¤
    - ì½ê¸° : `operator fun getValue(thisRef: T, property: KProperty<*>)`
    - ì“°ê¸° : `operator fun getValue(thisRef: T, property: KProperty<*>, value: V)`
    - ì¸ì ì„¤ëª…
      - `thisRef: T` : ìœ„ì„ì ê°œì²´(í”„ë¡œí¼í‹°ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ë§¡ê¸°ëŠ” ê°œì²´)ì´ê³  TëŠ” ê·¸ì— ëŒ€í•œ í´ë˜ìŠ¤ë¥¼ ë§í•œë‹¤.
      - `property: KProperty<*>` : ìœ„ì„ í”„ë¡œí¼í‹°ì— ëŒ€í•œ íƒ€ì…ìœ¼ë¡œ, ë©”íƒ€ë°ì´í„° íƒ€ì…ì„ ì œê³µí•œë‹¤. ë³´í†µ nameì„ ë§ì´ ì‚¬ìš©í•˜ê³ , ì´ê²ƒì€ ìœ„ì„í”„ë¡œí¼í‹°ì˜ ë³€ìˆ˜ëª…ì„ ë¦¬í„´í•œë‹¤.
      - `value: V` : ìœ„ì„í”„ë¡œí¼í‹°ì— ì €ì¥í•  ê°’ì„ ë§í•œë‹¤.
  - ë¹ŒíŠ¸ì¸ ì¸í„°í˜ì´ìŠ¤(`ReadOnlyProperty`, `ReadWriteProperty`)ë¥¼ ìƒì†ë°›ì•„ì„œ ëª…ì‹œì ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•


### ê¸°íƒ€1

```kotlin
class Person(
  private val first: String,
  private val last: String
) {
  val name by     // [1] SAM ë³€í™”
  ReadOnlyProperty<Person, String> { _, _ ->
    "$first $last"
  }
}

fun main() {
  val alien = Person("Floopy", "Noopers")
  alien.name eq "Floopy Noopers"
}
```
- [1] : private í”„ë¡œí¼í‹°ë¥¼ í”„ë¡œí¼í‹° ìœ„ì„ìœ¼ë¡œ ì ‘ê·¼í•  ìˆë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```kotlin
class Add(val a: Int, val b: Int) {
  val sum by Sum()
}

class Sum

operator fun Sum.getValue( // [1]
  thisRef: Add,
  property: KProperty<*>
) = thisRef.a + thisRef.b

fun main() {
  val addition = Add(144, 12)
  addition.sum eq 156
}
```
- [1] : ë³€ê²½í•˜ê±°ë‚˜ ìƒì†í•  ì—†ëŠ” ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ê²½ìš°ëŠ” í™•ì¥í•¨ìˆ˜ë¥¼ í†µí•´ì„œ êµ¬í˜„í• ìˆ˜ë„ ìˆë‹¤

### ê¸°íƒ€2

> ì•„ë˜ 2ê°€ì§€ ì½”ë“œëŠ” ì‚¬ì‹¤ ì„¤ëª…í•˜ê³ ì í•˜ëŠ”ê²Œ ì˜ë¯¸ìˆëŠ” ì„¤ëª…ì¸ì§€  

```kotlin
class Fibonacci :
  ReadWriteProperty<Any?, Long> {
  private var current: Long = 0
  override operator fun getValue(
    thisRef: Any?,
    property: KProperty<*>
  ) = current
  override operator fun setValue(
    thisRef: Any?, // [1]
    property: KProperty<*>,
    value: Long
  ) {
    current = fibonacci(value.toInt())
  }
}

fun main() {
  var fib by Fibonacci() // [2]
  fib eq 0L
  fib = 22L
  fib eq 17711L
  fib = 90L
  fib eq 2880067194370816120L
}
```
- [1] : setValue ì•ˆì—ì„œ thisRef ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš° Any? íƒ€ì…ìœ¼ë¡œ ë‘˜ìˆ˜ ìˆë‹¤.
- [2] : ì§€ì—­ ìœ„ì„ í”„ë¡œí¼í‹° ë¼ê³  í•œë‹¤. ê·¸ëŸ°ë° ê¸°ì¡´ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œì˜ ìœ„ì„ í”„ë¡œí¼í‹°ì™€ ì–´ë–¤ ì°¨ì´ê°€ ìˆëŠ” ê²ƒì¼ê¹Œ. ë‚´ë¶€ì ìœ¼ë¡œ ì‘ë™ë°©ì‹ì´ ì‚´ì§ ë‹¤ë¥´ë‹¤ê³ (?) í•œë‹¤.

```kotlin
class FileDelegate :
  ReadWriteProperty<Any?, String> {
  override fun getValue(
    thisRef: Any?, // [1]
    property: KProperty<*>
  ): String {
    val file =
      DataFile(property.name + ".txt")
    return if (file.exists())
      file.readText()
    else ""
  }
  override fun setValue(
    thisRef: Any?, // [1]
    property: KProperty<*>,
    value: String
  ) {
    DataFile(property.name + ".txt")
      .writeText(value)
  }
}

class Configuration {
  var user by FileDelegate()
  var id by FileDelegate()
  var project by FileDelegate()
}

fun main() {
  val config = Configuration()
  config.user = "Luciano"
  config.id = "Ramalho47"
  config.project = "MyLittlePython"
  DataFile("user.txt").readText() eq "Luciano"
  DataFile("id.txt").readText() eq "Ramalho47"
  DataFile("project.txt").readText() eq
    "MyLittlePython"
}
```
- [1] : getValueì™€ setValueì˜ ì²«ë²ˆì§¸ íƒ€ì…ì„ Any?ë¡œ ë†“ìŒìœ¼ë¡œì„œ ì¢€ ë” ì¼ë°˜ì ì¸ ëª©ì ì˜ ìœ„ì„ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

## Atom85 í”„ë¡œí¼í‹° ìœ„ì„ ë„êµ¬

> í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” íŠ¹ë³„í•œ í”„ë¡œí¼í‹° ìœ„ì„ ì—°ì‚°ì´ ë“¤ì–´ ìˆë‹¤.

### Map
- ìœ„ì„ í”„ë¡œí¼í‹°ì˜ ìœ„ì„ ê°ì²´ë¡œ ì“°ì¼ìˆ˜ ìˆë„ë¡ ë¯¸ë¦¬ ì„¤ì •ëœ ì½”í‹€ë¦° í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤‘ í•˜ë‚˜
- ìœ„ì„ í”„ë¡œí¼í‹°ì˜ ì‚¬ìš©ë²•ì„ ë‹¤ì‹œ ìƒê°í•´ë³´ë©´ 
  -  `val(var) [í”„ë¡œí¼í‹° ì´ë¦„] by [ìœ„ì„ ê°ì²´]` ì˜ ìœ„ì„ ê°ì²´ì— map ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ë§
  - ê° í”„ë¡œí¼í‹°ëŠ” mapì˜ í‚¤ê°€ ë˜ê³ , í• ë‹¹ëœ ê°’ì€ í‚¤ì˜ ê°’ì´ ëœë‹¤
- ì½”í‹€ë¦° í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ Mapì˜ í™•ì¥ í•¨ìˆ˜ë¡œ í”„ë¡œí¼í‹° ìœ„ì„ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” `getValue()`ì™€ `setValue()`ë¥¼ ì œê³µí•´ì¤€ë‹¤.

```kotlin
class Driver(
  map: MutableMap<String, Any?>
) {
  var name: String by map
  var age: Int by map
  var id: String by map
  var available: Boolean by map
  var coord: Pair<Double, Double> by map
}

fun main() {
  val info = mutableMapOf<String, Any?>(
    "name" to "Bruno Fiat",
    "age" to 22,
    "id" to "X97C111",
    "available" to false,
    "coord" to Pair(111.93, 1231.12)
  )
  val driver = Driver(info)
  driver.available eq false
  driver.available = true // [1]
  info eq "{name=Bruno Fiat, age=22, " +
    "id=X97C111, available=true, " +
    "coord=(111.93, 1231.12)}"
}
```
- `driver.available = true` ë¥¼ ë³€ê²½í•˜ë©´ ì›ë³¸ì—ì„œë„ ë³€ê²½ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```kotlin
operator fun MutableMap<String, Any>.getValue(
  thisRef: Any?, property: KProperty<*>
): Any? {
  return this[property.name]
}

operator fun MutableMap<String, Any>.setValue(
  thisRef: Any?, property: KProperty<*>,
  value: Any
) {
  this[property.name] = value
}
```
- Map ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„ëœ `getValue()`ì™€ `setValue()`ë¥¼ ë‹¨ìˆœí™”í•˜ì—¬ ë³´ì—¬ì£¼ëŠ” ì½”ë“œ
- `by map` ì˜ `by`ì— ì»¤ì„œë¥¼ ì˜¬ë ¤ë†“ìœ¼ë©´ ì•„ë˜ì™€ ê°™ì€ `getValue()`ì™€ `setValue()` í•¨ìˆ˜ì˜ íƒ€ì… ì •ì˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

  ![atom85_1](/screenshots/atom85_1.png)

### Delicates

- `kotlin.properties.Delegates` íŒ¨í‚¤ì§€ì— ë“¤ì–´ìˆëŠ” `Delegates` ë¼ëŠ” í´ë˜ìŠ¤ì—ëŠ” í”„ë¡œí¼í‹° ìœ„ì„ì— ìœ ìš©í•œ ëª‡ê°€ì§€ í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤. ì´ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.

```kotlin
class Team {
  var msg = ""
  var captain: String by observable("<0>") { // [1]
    prop, old, new ->
      msg += "${prop.name} $old to $new "
  }
}

fun main() {
  val team = Team()
  team.captain = "Adam" // [2]
  team.captain = "Amanda" // [3]
  team.msg eq "captain <0> to Adam " +
    "captain Adam to Amanda"
}
```
- [1] : observable()
  - ê°€ë³€ í”„ë¡œí¼í‹°ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê°ì§€í•˜ëŠ” í•¨ìˆ˜
  - íƒ€ì… ì •ì˜
    ```kotlin
    public final inline fun <T> observable(
        initialValue: T,
        crossinline onChange: (property: KProperty<*>, oldValue: T, newValue: T) -> Unit
    ): ReadWriteProperty<Any?, T> 
    ```
    - initialValue : í”„ë¡œí¼í‹°ì˜ ì´ˆê¸°ê°’ ì„¤ì •
    - onChange : í”„ë¡œí¼í‹°ê°€ ë³€ê²½ë  ë•Œ, ì‹¤í–‰í•  ë™ì‘ì„ ì§€ì •í•˜ëŠ” í•¨ìˆ˜
      - ëŒë‹¤ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤
      - ì¸ìë¡œëŠ”,**(ë³€ê²½ ì¤‘ì¸ í”„ë¡œí¼í‹°, í˜„ì¬ê°’, ìƒˆë¡œìš´ê°’)** ì´ë ‡ê²Œ ë“¤ì–´ê°„ë‹¤.
- [2] : Adamìœ¼ë¡œ ë³€ê²½ë  ë•Œ : "captain <0> to Adam"
- [3] : Amandaë¡œ ë³€ê²½ë  ë•Œ : "captain Adam to Amanda"

```kotlin
fun aName( // [2]
  property: KProperty<*>,
  old: String,
  new: String
) = if (new.startsWith("A")) {
  trace("$old -> $new")
  true
} else {
  trace("Name must start with 'A'")
  false
}

interface Captain {
  var captain: String
}

class TeamWithTraditions : Captain {
  override var captain: String
    by Delegates.vetoable("Adam", ::aName) // [3]
}

class TeamWithTraditions2 : Captain {
  override var captain: String
    by Delegates.vetoable("Adam") { // [1]
      _, old, new ->
        if (new.startsWith("A")) {
          trace("$old -> $new")
          true
        } else {
          trace("Name must start with 'A'")
          false
        }
    }
}

fun main() {
  listOf(
    TeamWithTraditions(),
    TeamWithTraditions2()
  ).forEach {
    it.captain = "Amanda"
    it.captain = "Bill"
    it.captain eq "Amanda"
  }
  trace eq """
    Adam -> Amanda
    Name must start with 'A'
    Adam -> Amanda
    Name must start with 'A'
  """
}
```
- [1] : vetoable()
  - ì˜ì–´ ì˜ë¯¸ë¡œëŠ” `veto` : ê±°ë¶€, `vetoable` : ê±°ë¶€í• ìˆ˜ ìˆëŠ” 
  - ì½”í‹€ë¦°ì—ì„œëŠ” ê°’ì´ ë³€ê²½ë˜ê¸° ì „ì— ì¡°ê±´ì— ë”°ë¼ì„œ ë³€ê²½ì„ ê±°ë¶€í•  ìˆ˜ ìˆì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” í•¨ìˆ˜
  - íƒ€ì… ì •ì˜
    ```kotlin
    public final inline fun <T> vetoable(
        initialValue: T,
        crossinline onChange: (property: KProperty<*>, oldValue: T, newValue: T) -> Boolean
    ): ReadWriteProperty<Any?, T>
    ```
    - initialValue : ì´ˆê¸°ê°’
    - onChange : í”„ë¡œí¼í‹°ê°€ ë³€ê²½ë  ë•Œ, ì¡°ê±´ì— ë”°ë¼ ë³€ê²½ë ì§€ ë§ì§€ì— ëŒ€í•œ ë¡œì§ì´ ë“¤ì–´ê°€ëŠ” í•¨ìˆ˜ë¡œ boolean ê°’ì„ ë¦¬í„´í•œë‹¤.
      - ëŒë‹¤ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ([1]ë²ˆ ì½”ë“œì—ëŠ” ëŒë‹¤ë¡œ êµ¬í˜„)
      - í”„ë¡œí¼í‹°, í˜„ì¬ê°’, ìƒˆë¡œìš´ê°’ì´ ì¸ìë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤.
- [2] : onChangeì— í•´ë‹¹í•˜ëŠ” ë¡œì§ í•¨ìˆ˜
- [3] : ì¼ë°˜ í•¨ìˆ˜ë¡œ êµ¬í˜„
- `TeamWithTraditions` ê³¼ `TeamWithTraditions2` ì€ ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„ë°©ì‹ë§Œ ë‹¤ë¥´ê³  ê²°ê³¼ì ìœ¼ë¡œ ê°™ì€ ê°’ì„ ë¦¬í„´í•œë‹¤. 

```kotlin
class NeverNull {
  var nn: Int by Delegates.notNull() // [1]
}

fun main() {
  val non = NeverNull()
  capture {
    non.nn // [2]
  } eq "IllegalStateException: Property " +
    "nn should be initialized before get."
  non.nn = 11
  non.nn eq 11
}
```
- [1] notnull()
  - í•´ë‹¹ í”„ë¡œí¼í‹°ë¥¼ ì½ê¸° ì „ì—(ì ‘ê·¼í•˜ê¸° ì „ì—) ë°˜ë“œì‹œ ì´ˆê¸°í™”í•´ì•¼í•˜ëŠ” í”„ë¡œí¼í‹°ë¥¼ ì •ì˜í•˜ëŠ” í•¨ìˆ˜
  - ì´ˆê¸°í™”ì „ì— í•´ë‹¹ í”„ë¡œí¼í‹°ë¥¼ ì½ìœ¼ë ¤ê³  í•˜ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.
- [2] ì´ˆê¸°í™”ì „ì— ì½ìœ¼ë ¤ê³ í•˜ë‹ˆ ì˜ˆì™¸ ë…¸ì¶œ 

## Atom86 ì§€ì—°ê³„ì‚° ì´ˆê¸°í™”

### Recap of Property Initialization

> ì§€ê¸ˆê¹Œì§€ ë°°ìš´ í”„ë¡œí¼í‹°ë¥¼ ì´ˆê¸°í™”ì— ëŒ€í•´ì„œ ë³µìŠµí•´ë³´ì

- ì§ì ‘ ì´ˆê¸°í™”
```kotlin
class Person {
    val name:String = "jjanmo" 
}
```
- ìƒì„±ìë¥¼ í†µí•œ ì´ˆê¸°í™”
```kotlin
class Person(val name:String) {
    
}
```
- init ë¸”ëŸ­ì„ í†µí•œ ì´ˆê¸°í™”
```kotlin
class Person {
    val name:String // ì´ëŸ° ê²½ìš° ì¸í…”ë¦¬ì œì´ê°€ ë‘˜ì„ í•©ì¹˜ë¼ê³  í•˜ê¸´í•¨...
    init{
        name = "jjanmo"
    }
}
```
- custom getter/setter ë¥¼ í†µí•œ ì´ˆê¸°í™”

```kotlin
class Person {
    val name: String 
        get() = "Anonymous"
}
```
> ì´ëŸ° ê²½ìš° nameì˜ í™œìš©ë„ê°€ ì—†ë‹¤

```kotlin
class Person {
    var name: String = "Anonymous"
        get() = field.uppercase()
        set(value) {
            field = value.trim()
        }
}
```
### ì§€ì—° ê³„ì‚° ì´ˆê¸°í™”

> í”„ë¡œí¼í‹°ë¥¼ ì´ˆê¸°í™”ì‹œí‚¤ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²•

- ë¬¸ì œìƒí™©
  - í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì´ˆê¸°í™” ì‹œí‚¤ê¸° ìœ„í•´ì„œ **ì•„ë˜ì™€ ê°™ì€ ìƒí™©ë“¤**ì´ í•„ìš”í•œ ê²½ìš°ê°€ ìˆë‹¤.
    - ë³µì¡í•˜ê³  ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¬ëŠ” ê³„ì‚°ì„ í†µí•œ í”„ë¡œí¼í‹° ì´ˆê¸°í™”
    - ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ì´ˆê¸°í™” 
    - ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ì´ˆê¸°í™”
  
    â†’ ì´ëŸ° ê³¼ì •ì˜ ì´ˆê¸°í™”ë“¤ì€ **ë¬¸ì œ**ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤
  
    - ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì´ˆê¸° ì‹œì‘ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆë‹¤.
    - ì–´í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°ì— ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ëŠ” ê°’(ë‚˜ì¤‘ì— ì‚¬ìš©í•´ë„ ë˜ëŠ” ê°’)ì„ ì´ˆê¸°í™” ì‹œí‚¤ëŠ” ê²½ìš°ê°€ ìƒê¸´ë‹¤. : ì´ˆê¸°ì‹œì ì˜ ë¦¬ì†ŒìŠ¤ì˜ ë‚­ë¹„
- í•´ê²°ì±…
  - ì½”í‹€ë¦°ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ **ì§€ì—° ê³„ì‚°ì• í†µí•œ í”„ë¡œí¼í‹° ì´ˆê¸°í™”** ê¸°ëŠ¥ ì œê³µ 
  - í•´ë‹¹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí¼í‹°ëŠ” í”„ë¡œí¼í‹°ê°€ ì‚¬ìš©ë  ë•Œ ì´ˆê¸°í™” ëœë‹¤.

### ì‚¬ìš©ë²•(Syntax)

```kotlin
val lazyProperty by lazy {
    // ì´ˆê¸°í™”ì½”ë“œ
}
```
- ì•ì„œë°°ìš´ **í”„ë¡œí¼í‹° ìœ„ì„**(Atom84)ë¥¼ í†µí•´ ì¼ê´€ì„± ìˆê³  ì•Œì•„ë³´ê¸° ì‰¬ìš´ ì§€ì—°ê³„ì‚° í”„ë¡œí¼í‹° êµ¬ë¬¸ì„ ì œê³µ 
- lazy() í•¨ìˆ˜ë¥¼ ëŒë‹¤ë¡œ ì“´ ê²ƒìœ¼ë¡œì„œ ì´ˆê¸°í™”ê°€ í•„ìš”í•œ ì‹œì (í”„ë¡œí¼í‹°ê°€ ì‚¬ìš©ë˜ëŠ” ì‹œì )ì— ëŒë‹¤ë¥¼ ì‹¤í–‰ì‹œì¼œì„œ ì´ˆê¸°í™”ë¥¼ ì‹œí‚¨ë‹¤. ê·¸ í›„ ê°™ì€ í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ìºì‹±ëœ ê°’ì„ ë¶ˆëŸ¬ì˜¤ê²Œ ëœë‹¤.(ëŒë‹¤ëŠ” ì´ˆê¸°í™” ì‹œì ì— í•œ ë²ˆë§Œ ì‹¤í–‰ëœë‹¤) 

```kotlin
val idle: String by lazy {
  trace("Initializing 'idle'")
  "I'm never used"
}

val helpful: String by lazy {
  trace("Initializing 'helpful'")
  "I'm helping!"
}

fun main() {
  trace(helpful) // helpfulì´ ì‚¬ìš©ë˜ì–´ ì•„ë˜ ë¬¸ìì—´ì´ ì¶œë ¥ë¨ / idleì€ ì‚¬ìš©ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì¶œë ¥ë˜ì§€ì•ŠìŒ
  trace eq """
    Initializing 'helpful'
    I'm helping!
  """
}
```
- ì§€ì—°ê³„ì‚° ì´ˆê¸°í™”ë¡œ ì¸í•´ì„œ ë³€ìˆ˜ëŠ” `val`ë¡œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

### ì‘ë™ë°©ì‹
```kotlin
class LazyInt(val init: () -> Int) {
  private var helper: Int? = null
  val value: Int
    get() {
      if (helper == null) helper = init()
      return helper!!
    }
}

fun main() {
  val later = LazyInt {
    trace("Initializing 'later'")
    5
  }
  trace("First 'value' access:")
  trace(later.value)
  trace("Second 'value' access:")
  trace(later.value)
  trace eq """
    First 'value' access:
    Initializing 'later'
    5
    Second 'value' access:
    5
  """
}
```
- ìœ„ì˜ LazyInt í´ë˜ìŠ¤ëŠ” lazy() í•¨ìˆ˜ì˜ ì‘ë™ë°©ì‹ì„ ëª¨í‚¹í•œ ì½”ë“œì´ë‹¤. init í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ê³  helperê°€ nullì´ë©´ ì´ˆê¸°í™”ë¥¼ ì‹œí‚¨ í›„ helperë¥¼ ë°˜í™˜í•œë‹¤. helperê°€ ì¡´ì¬í•˜ë©´ ê·¸ ë’¤ë¡œëŠ” init()ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  helperë¥¼ ë°˜í™˜í•œë‹¤.ì¦‰ ì²˜ìŒì— ì´ˆê¸°í™”ì‹œí‚¨ ê°’ì„ ê³„ì†í•´ì„œ ë°˜í™˜í•˜ëŠ” ê²ƒì´ë‹¤.

### í”„ë¡œí¼í‹° ì´ˆê¸°í™” ë°©ë²• ë¹„êµ

> í”„ë¡œí¼í‹° ì •ì˜ ì‹œì  vs ê²Œí„°ë¥¼ ì‚¬ìš©í•œ ì´ˆê¸°í™” ì‹œì  vs ì§€ì—° ê³„ì‚°ì„ í†µí•œ ì´ˆê¸°í™” ì‹œì  

```kotlin
fun compute(i: Int): Int { 
  trace("Compute $i")
  return i
}

object Properties {
  val atDefinition = compute(1) // ì •ì˜ì‹œì ì˜ ì´ˆê¸°í™”
  val getter
    get() = compute(2) // ì»¤ìŠ¤í…€ê²Œí„°ë¥¼ í†µí•œ ì´ˆê¸°í™”
  val lazyInit by lazy { compute(3) } // ì§€ì—°ê³„ì‚°ì„ í†µí•œ ì´ˆê¸°í™”
  val never by lazy { compute(4) }
}

fun main() {
  listOf(
    Properties::atDefinition, 
    Properties::getter, 
    Properties::lazyInit 
  ).forEach {
    trace("${it.name}:")
    trace("${it.get()}")
    trace("${it.get()}")
  }
  trace eq """
    Compute 1 // ê°ì²´ Propertiesê°€ ì •ì˜ë  ë•Œ, í”„ë¡œí¼í‹°ë„ atDefinition ê°™ì´ ì •ì˜ë˜ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ computeê°€ ì‹¤í–‰ë˜ë©´ì„œ ì¶œë ¥ë¨
    
    âœ… ì—¬ê¸°ì„œë¶€í„°ê°€ forEachë¥¼ ëŒë©´ì„œ ì°íˆëŠ” ê°’
    
    atDefinition: // ì°¸ì¡°í•œ í•¨ìˆ˜ ì´ë¦„
    1 // ì´ˆê¸°í™”ëœ ê°’ì„ ê°€ì ¸ì™€ì„œ ì¶œë ¥ë˜ê¸° ë•Œë¬¸ì— computeê°€ ì¬ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
    1
    
    getter: // ì°¸ì¡°í•œ í•¨ìˆ˜ ì´ë¦„
    // getter ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤ëŠ” ì˜ë¯¸ëŠ” ê²°êµ­ í•¨ìˆ˜ computeë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤ëŠ” ê²ƒê³¼ ë™ì¼í•˜ì—¬ 2ë²ˆì˜ getterë¥¼ í˜¸ì¶œí•˜ê¸°ë•Œë¬¸ì— 2ë²ˆì˜ [Compute 2, 2] ê°€ ì¶œë ¥ë¨
    Compute 2 
    2
    Compute 2
    2
    
    lazyInit: // ì°¸ì¡°í•œ í•¨ìˆ˜ ì´ë¦„
    // ì§€ì—° ê³„ì‚° ì´ˆê¸°í™”ì´ê¸° ë•Œë¬¸ì— ì‹¤ì œ ê°’ì´ ì“°ì¼ë•Œ ì´ˆê¸°í™”ê°€ ì´ë£¨ì–´ì§. ê·¸ë˜ì„œ ì²«ë²ˆì§¸ ì ‘ê·¼ì‹œì—ë§Œ í•¨ìˆ˜ computeê°€ ì‹¤í–‰ë˜ì—ˆê³  ë‘ë²ˆì§¸ ì ‘ê·¼ì‹œì—ëŠ” ìºì‹±ëœ ê°’ë§Œì„ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•¨ 
    Compute 3 
    3
    3
    
    // never í”„ë¡œí¼í‹°ì—ëŠ” ì ‘ê·¼í•˜ì§€ ì•Šì•„ì„œ ë…¸ì¶œë˜ì§€ ì•ŠìŒ
  """
}
```

## Atom87 ëŠ¦ì€ ì´ˆê¸°í™”

> ì•ì„œ ë°°ìš´ ì§€ì—° ê³„ì‚°ê³¼ ê°™ì€ ëª©ì ì„ ê°€ì§€ê³  íƒ„ìƒí•œ ê¸°ëŠ¥ì´ì§€ë§Œ, ìƒí™©ê³¼ ì‚¬ìš© ëª©ì ì´ ì‚´ì§ ë‹¤ë¥´ë‹¤. ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ì— ì´ˆì ì„ ë§ì¶”ê³  ì•Œì•„ë³´ì
 

- ë¬¸ì œìƒí™©
  - ì–´ë–¤ ì¬ì‚¬ìš©ê°€ëŠ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì¡´ì¬í•œë‹¤ê³  ê°€ì •

  ```kotlin
  interface Bag {
    fun setUp() // "ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” í•¨ìˆ˜"ê°€ ì¡´ì¬ + setUpì˜ "í˜¸ì¶œì„ ë³´ì¥"
  }
  
  class Suitcase : Bag { // Bagë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤
    private var items: String? = null 
    override fun setUp() { 
      items = "socks, jacket, laptop"
    }
    fun checkSocks(): Boolean = items?.contains("socks") ?: false
  }
  
  fun main() {
    val suitcase = Suitcase()
    suitcase.setUp()
    suitcase.checkSocks() eq true
  }
  ```
  - í´ë˜ìŠ¤ Suitcase ì—ì„œ setUpì„ ì˜¤ë²„ë¼ì´ë“œí•  ë•Œ, í”„ë¡œí¼í‹°ë¥¼ ì´ˆê¸°í™”í•´ì¤˜ì—¬í•œë‹¤.
  - í•˜ì§€ë§Œ itemsë¥¼ ê·¸ëƒ¥ Stringìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ì—†ìŒ : Stringìœ¼ë¡œ ì •ì˜í•˜ë ¤ë©´ ì´ˆê¸°í™” ë‹¨ê³„ì—ì„œ ê°’ì„ í• ë‹¹í•´ì¤˜ì•¼í•œë‹¤.
  - ê²°êµ­ nullì„ ì‚¬ìš©í•˜ì—¬ ì´ˆê¸°í™” ì•ˆë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ì¤˜ì•¼í•˜ê³  `String?` 
    â†’ ë¬¸ì œì˜ ì‹œì‘
  - itemsë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  itemsê°€ nullì´ ì•„ë‹Œì§€ ì—¬ë¶€ë¥¼ í•­ìƒ ì²´í¬í•´ì¤˜ì•¼í•œë‹¤. : `checkSocks`
  - ê·¸ëŸ°ë° ìƒí™©ìƒ ìƒê°í•´ë³´ë©´, **í•­ìƒ setupì˜ í˜¸ì¶œì€ ë³´ì¥í•œë‹¤(ì´ˆê¸°í™”ë¥¼ í•œë‹¤)**ê°€ ì „ì œì¡°ê±´ì´ê¸° ë•Œë¬¸ì— ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê±´ ê²°êµ­ ì´ë¯¸ itemsëŠ” ì´ˆê¸°í™”ê°€ ë˜ì–´ìˆëŠ” ìƒíƒœì¸ë°, êµ³ì´ itemsì˜ null ì²´í¬ë¥¼ í•´ì•¼í•˜ë‚˜?! ë¼ëŠ” ë¬¸ì œê°€ ë°œìƒ + ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì½”ë“œë¡œ í•´ë‹¹ ë¬¸ì œê°€ ì „íŒŒëœë‹¤

- ë¬¸ì œí•´ê²° by `lateinit`

  ```kotlin
  class BetterSuitcase : Bag {
    lateinit var items: String 
    override fun setUp() {
      items = "socks, jacket, laptop"
    }
    fun checkSocks() = "socks" in items
  }
  
  fun main() {
    val suitcase = BetterSuitcase()
    suitcase.setUp()
    suitcase.checkSocks() eq true
  }
  ```
  - `lateinit` ì´ë¼ëŠ” í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´ ì•„ê¹Œì™€ ë‹¤ë¥´ê²Œ null íƒ€ì…ì´ ì•„ë‹Œ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ê°€ëŠ¥í•´ì§„ë‹¤.
    - ì¦‰, itemsë¥¼ ì•ˆì „í•˜ê²Œ ë„ì´ ì•„ë‹Œ í”„ë¡œí¼í‹°ë¡œ ì„ ì–¸í•´ë„ ëœë‹¤ëŠ” ì˜ë¯¸
  - `lateinit`ì˜ ì œì•½ì‚¬í•­
    - var í”„ë¡œí¼í‹°ì—ë§Œ ì ìš© ê°€ëŠ¥, val í”„ë¡œí¼í‹°ì—ëŠ” ì ìš© ë¶ˆê°€ëŠ¥
    - í”„ë¡œí¼í‹° íƒ€ì…ì€ nullì´ ì•„ë‹Œ íƒ€ì…ì´ê³  ì›ì‹œíƒ€ì…ì´ ì•„ë‹ˆì—¬ì•¼í•œë‹¤.
      - ì½”í‹€ë¦°ì—ì„œ ì›ì‹œíƒ€ì… : Int, Char, Double ë“±
    - ì¶”ìƒ í´ë˜ìŠ¤ì˜ ì¶”ìƒ í”„ë¡œí¼í‹°ë‚˜ **_ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°_**ì—ëŠ” ì ìš© ë¶ˆê°€ëŠ¥
      - Q. ì±…ì—ì„œ ì´ì•¼ê¸°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ê°€ ë¬´ì—‡ì„ ë§í•˜ëŠ”ì§€ ëª¨ë¥´ê² ìŒ. ì°¾ì•„ë³´ë©´ ì¼ë°˜ í´ë˜ìŠ¤ì˜ í”„ë¡œí¼í‹° ê°™ì€ë° ê·¸ë ‡ê²Œ ì´í•´í•˜ë©´ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒê³¼ ë°˜ëŒ€ì¸ê±°ë¼ì„œ...ìŒ ğŸ¤”


- lateinitì¸ë° í”„ë¡œí¼í‹°ë¥¼ ì´ˆê¸°í™”ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤ë©´,
  ```kotlin
  class FaultySuitcase : Bag {
    lateinit var items: String
    override fun setUp() {}
    fun checkSocks() = "socks" in items
  }
  
  fun main() {
    val suitcase = FaultySuitcase()
    suitcase.setUp()
    capture {
      suitcase.checkSocks()
    } eq
      "UninitializedPropertyAccessException" +
      ": lateinit property items " +
      "has not been initialized"
  }
  ```
  - ì»´íŒŒì¼ìƒì—ì„œëŠ” ì˜¤ë¥˜ê°€ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤ : ì½”í‹€ë¦°ì´ ê²€ì‚¬í•  ìˆ˜ ì—†ëŠ” ë³µì¡í•œ ë¡œì§ í˜¹ì€ ë‹¤ë¥¸ í”„ë¡œí¼í‹°ì— ì˜ì¡´í•  ìˆ˜ ë„ ìˆë‹¤ê³  íŒë‹¨
  - í•˜ì§€ë§Œ ì‹¤í–‰ì‹œì (ëŸ°íƒ€ì„)ì— ì˜¤ë¥˜ê°€ ë°œìƒ
  
- `isInitialized` ì†ì„±
  - `lateInit` í”„ë¡œí¼í‹°ì—ëŠ” ì»´íŒŒì¼ëŸ¬ì— ì˜í•´ì„œ ì½ê¸° ì „ìš© ì†ì„±ìœ¼ë¡œ `isInitialized`ì´ ìë™ ìƒì„±ëœë‹¤.
  - í•´ë‹¹ í”„ë¡œí¼í‹°ê°€ ì´ˆê¸°í™” ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.

  ```kotlin
  class WithLate {
    lateinit var x: String
    fun status() = "${::x.isInitialized}" // ì•ì— thisê°€ ìƒëµë˜ì–´ìˆëŠ” ê²ƒ : this::x.isInitialized
  }
  
  lateinit var y: String
  
  fun main() {
    trace("${::y.isInitialized}") // false  // main í•¨ìˆ˜ì—ì„œëŠ” thisê°€ ì—†ê³  ì „ì—­ í”„ë¡œí¼í‹°ì¸ yë¥¼ ì°¸ì¡°í•˜ê³  ìˆëŠ” ê²ƒ 
    y = "Ready"
    trace("${::y.isInitialized}") // true
    val withlate = WithLate() 
    trace(withlate.status()) // false
    withlate.x = "Set"
    trace(withlate.status()) // true
    trace eq "false true false true"
  }
  ```
- ì—¬ê¸°ì„œ ê¶ê¸ˆí•œ ê²ƒ :  `::` ëŠ” ë­ì§€??
  ```kotlin
  class Person {
      lateinit var name: String  
  }
  
  fun main() {
      val person = Person()
      println(person::name.isInitialized) // 1)
     //  println(person.name.isInitialized) // ì˜¤ë¥˜ // 2)
  }
  ```
 - ì²«ë²ˆì§¸ëŠ” **ë¦¬í”Œë ‰ì…˜**ë¥¼ ì‚¬ìš©í•œ í”„ë¡œí¼í‹° ì°¸ì¡°, ë‘ë²ˆì§¸ëŠ” ì§ì ‘ í”„ë¡œí¼í‹° ì°¸ì¡°ì´ë¼ê³  í•œë‹¤. 
 - ë¦¬í”Œë ‰ìŠ¤(Reflection)
   - í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ì— íƒ€ì…, ë©”ì„œë“œ, í•„ë“œ, í”„ë¡œí¼í‹° ë“±ì˜ êµ¬ì¡°ì— ëŒ€í•œ ì •ë³´ë¥¼ ë™ì ìœ¼ë¡œ ì¡°íšŒí•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
   - `isInitialized` ëŠ” í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ ì¤‘ì— ì´ˆê¸°í™”ê°€ ë˜ë©´ ë™ì ìœ¼ë¡œ, ë‚´ë¶€ì ìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ê°’ì— í•´ë‹¹í•˜ê¸° ë•Œë¬¸ì— ë¦¬í”Œë ‰ì…˜ì„ ì´ìš©í•˜ì—¬ ì ‘ê·¼í•´ì•¼ ê°€ëŠ¥í•˜ë‹¤.

  - 1), 2)ìœ„ì— ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì€ ë©”ì‹œì§€ê°€ ëœ¬ë‹¤. ìì„¸í•œ ë‚´ìš©(íƒ€ì…ì ì¸ ë¶€ë¶„ë“¤)ì— ëŒ€í•´ì„  íŒŒì•…í•˜ì§€ ì•Šì•˜ê³  ì €ëŸ°ê²ƒë“¤ì´ ìˆêµ¬ë‚˜ ì •ë„ë¡œë§Œ ìš°ì„  ì•Œê³  ë„˜ì–´ê°€ì!
    - ì—¬ëŸ¬ê°€ì§€ ë°ì½”ë ˆì´í„°ê°€ ë‚˜ì˜¤ëŠ”ë° ê¶ê¸ˆí•˜ê¸´í•˜ë„¹ : `@SinceKotlin`, `@InlineOnly`, `@receiver`
  
  ![atom87_1](/screenshots/atom87_1.png)
  > `person::name.isInitialized`
  
  ![atom87_2](/screenshots/atom87_2.png)
  > `person.name.isInitialized`



